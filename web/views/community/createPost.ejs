<%-include("../includes/head",{pageTitle})%>

<link rel="stylesheet" href="/css/imageslide.css">
<script src='/script/createPost.js' defer></script>
</head>


<body>
  <%-include("../includes/navbar")%>


  <h1 class="text-3xl font-bold mt-5 mb-7">Create Post</h1>
  <div class="container mx-auto px-4 py-8 bg-white rounded-lg shadow-lg p-6">

    <%if(errorMessage && errorMessage.length>0){%>
    <div class="bg-white border border-red-500 text-black text-center rounded-md px-4 py-2 mb-4">
      <p style="font-weight: bold; color: red;"><%=errorMessage[0]%></p>
    </div>
    <%}%>

    <div id="image-preview" class="relative hidden">
      <div>
        <div id="slideContainer" class="mt-4 slide-container">
          <div id="slide" class="slide"></div>
        </div>
        <div class="flex justify-between mt-4 mb-6">
          <button id="prevButton" class="bg-black hover:bg-gray-700 text-white font-semibold py-1 px-2 rounded-lg cursor-pointer">

            < </button>
              <button id="nextButton" class="bg-black hover:bg-gray-700 text-white font-semibold py-1 px-2 rounded-lg cursor-pointer">></button>
        </div>
      </div>
    </div>

    <form action="/community/create-post" method="POST" enctype="multipart/form-data">

      <div class="flex justify-center">
        <input type="file" id="imageUpload" name='post-images' multiple class="hidden">
        <label for="imageUpload" class="flex items-center justify-center bg-black w-full h-32 mb-5 rounded-lg border-2 border-black hover:bg-gray-700 hover:border-gray-700 text-white font-semibold py-3 px-6 cursor-pointer">
          이미지 업로드
        </label>
      </div>

      <div class="mb-4">
        <label for="title" class="block text-gray-700 font-bold mb-2">Title</label>
        <input id="title" type="text" name="title" class="w-full px-3 py-2 border border-gray-300 rounded" required />
      </div>

      <div class="mb-4">
        <label for="content" class="block text-gray-700 font-bold mb-2">Content</label>
        <textarea id="content" name="content" class="w-full px-3 py-2 h-60 border border-gray-300 rounded resize-none" rows="6" required></textarea>
      </div>

      <div class="flex justify-end">
        <button type="submit" class="px-4 py-2 bg-black hover:bg-gray-700  text-white rounded">Create Post</button>
      </div>

    </form>
  </div>

  <%-include("../includes/footer")%>